(this.webpackJsonpcrix=this.webpackJsonpcrix||[]).push([[0],{103:function(e,t,a){e.exports=a(219)},108:function(e,t,a){},110:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},206:function(e,t,a){},209:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(2),c=a.n(o),r=(a(108),a(109),a(48)),l=a(25),s=a(26),m=a(33),u=a(31),d=a(61),v=a(221),h=a(224),p=(a(110),a(223)),f=a(81),g=p.a.Option,E=new f.MovieDb("0f8d529ca28503395a1f7dc2532ad517");var y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).setMovies=function(e){n.setState({movies:e})},n.setMovieName=function(e){n.setState({selectedMovieName:e})},n.searchMovies=function(e){E.searchMovie({query:e}).then((function(e){n.setMovies(e.results)})).catch(console.error)},n.handleSearch=function(e){e&&n.searchMovies(e),n.setMovieName(e)},n.onSelect=function(e,t){var a=n.props.addMovie,i=n.state.movies,o=i.findIndex((function(e){return e.id==t.key}));a(i[o])},n.state={movies:[],selectedMovieName:""},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.selectedMovieName,a=e.movies;return i.a.createElement(p.a,{dropdownMatchSelectWidth:252,style:{width:300},onSelect:this.onSelect,onSearch:this.handleSearch,value:t},a.map((function(e){return i.a.createElement(g,{key:e.id,value:e.id},"".concat(e.title," (").concat(void 0===(t=e.release_date)?"":t.slice(0,4),")"));var t})))}}]),a}(i.a.Component),b=a(38),k=a(13),w=a(37),O=a(225),M=(a(188),a(189),a(227)),_=a(228);var j=function(e){var t=e.rating,a=e.onClick,n=e.movieId,o=t?"liked":"haven't liked",c=t?i.a.createElement(M.a,null):i.a.createElement(_.a,null);return i.a.createElement("div",{className:"custom-container"},i.a.createElement(h.a,{className:"btn btn-primary",type:"primary",shape:"circle",size:"small",onClick:function(){return a(n)}},c),i.a.createElement("p",null,"You ",o," this"))},S=O.a.Meta;var C=function(e){var t=e.title,a=e.vote_average,n=e.poster_path,o=e.rating,c=e.movieId,r=[];return e.showOpinion&&r.push(i.a.createElement(j,{onClick:e.onClick,rating:o,movieId:c})),i.a.createElement(O.a,{hoverable:!0,style:{width:240},cover:i.a.createElement("img",{alt:t,src:"https://image.tmdb.org/t/p/w200".concat(n)}),actions:r},i.a.createElement(S,{title:"".concat(t," (").concat(a,")")}))};a(206);var I=function(e){var t=e.movies,a=e.rating,n=e.onClick,o=e.showOpinion,c=e.emptyDescription;return i.a.createElement("div",{className:"movie-list"},t.length?i.a.createElement(b.a,null,t.map((function(e){return i.a.createElement(k.a,{span:6},i.a.createElement(C,Object.assign({key:e.id},e,{movieId:e.id,onClick:n,rating:a?a[e.id]:null,showOpinion:o})))}))):i.a.createElement(w.a,{description:c}))},N=a(222),x=N.a.SubMenu,D=N.a.ItemGroup;var B=function(){return i.a.createElement(N.a,{mode:"horizontal"},i.a.createElement(N.a.Item,{key:"mail"},"Home"),i.a.createElement(x,{title:i.a.createElement("span",null,"Blogs")},i.a.createElement(D,{title:"Item 1"},i.a.createElement(N.a.Item,{key:"setting:1"},"Option 1"),i.a.createElement(N.a.Item,{key:"setting:2"},"Option 2")),i.a.createElement(D,{title:"Item 2"},i.a.createElement(N.a.Item,{key:"setting:3"},"Option 3"),i.a.createElement(N.a.Item,{key:"setting:4"},"Option 4"))),i.a.createElement(N.a.Item,{key:"alipay"},"Contact Us"))},W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).showDrawer=function(){n.setState({visible:!0})},n.onClose=function(){n.setState({visible:!1})},n.state={current:"mail",visible:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("nav",{className:"menuBar"},i.a.createElement("div",{className:"logo"}),i.a.createElement("div",{className:"menuCon"},i.a.createElement("div",{className:"leftMenu"},i.a.createElement(B,null))))}}]),a}(n.Component),z=a(55),R=a.n(z).a.create({baseURL:"https://api.themoviedb.org/3/"});var Y=function(e,t,a,n,i,o,c,r,l){return R.get("/discover/movie",{params:{api_key:"0f8d529ca28503395a1f7dc2532ad517",sort_by:e,include_adult:t,include_video:a,page:n,"primary_release_date.gte":i,"vote_average.gte":o,with_genres:c,without_genres:r,with_original_language:l}})},H=a(229),J=(a(209),d.a.TabPane),U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).addMovie=function(e){console.log(e),n.setState((function(t){return{movies:[].concat(Object(r.a)(t.movies),[e])}}),(function(){v.a.success("Your movie is added")}))},n.handleClick=function(e){var t=n.state.rating;t[e]=!t[e],n.setState({rating:t})},n.onSubmit=function(){var e=n.state,t=e.movies,a=e.rating,i=[],o=[],c=[],l=[],s=[],m=[];t.forEach((function(e){c=c.concat(e.release_date.slice(0).slice(0,4)),l=l.concat(e.original_language),s=s.concat(e.vote_average),m=m.concat(e.with_runtime),!1===a[e.id]||void 0===a[e.id]?o=o.concat(e.genre_ids):i=i.concat(e.genre_ids)}));var u=i.join("|"),d=o.join(","),h=l.join("|"),p=Math.min.apply(Math,Object(r.a)(s)),f=Math.min.apply(Math,Object(r.a)(c));f+="",console.log(a,t,u,d),Y("popularity.desc",!1,!1,1,f+"-01-01",p,u,d,h).then((function(e){n.setState({recommendations:e.data.results}),v.a.success("You're recommendations are ready!")})).catch((function(e){console.log(e)})).finally((function(){console.log("Movies Fetched")}))},n.state={movies:[],rating:{},recommendations:[]},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.movies,a=e.rating,n=e.recommendations;return i.a.createElement("div",{className:"app"},i.a.createElement(W,null),i.a.createElement(y,{addMovie:this.addMovie}),i.a.createElement(h.a,{type:"primary",shape:"round",icon:i.a.createElement(H.a,null),size:"default",onClick:this.onSubmit},"Recommend!"),i.a.createElement(d.a,{defaultActiveKey:"watched",className:"movie-tabs"},i.a.createElement(J,{tab:"Watched",key:"watched"},i.a.createElement(I,{movies:t,onClick:this.handleClick,rating:a,showOpinion:!0,emptyDescription:"No movies added!"})),i.a.createElement(J,{tab:"Recommendations",key:"recommendations"},i.a.createElement(I,{movies:n,onClick:function(){},showOpinion:!1,emptyDescription:"Submit your favorite movies to get recommendations!"}))))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(U,{text:"Hello world!"})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.77af7125.chunk.js.map