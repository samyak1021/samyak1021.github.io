(this.webpackJsonpcrix=this.webpackJsonpcrix||[]).push([[0],{103:function(e,t,a){e.exports=a(219)},108:function(e,t,a){},110:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},206:function(e,t,a){},209:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(2),c=a.n(o),r=(a(108),a(109),a(48)),s=a(26),l=a(27),m=a(33),u=a(32),d=a(61),v=a(221),h=a(224),p=(a(110),a(223)),f=a(81),g=p.a.Option,E=new f.MovieDb("0f8d529ca28503395a1f7dc2532ad517");var y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).setMovies=function(e){n.setState({movies:e})},n.setMovieName=function(e){n.setState({selectedMovieName:e})},n.searchMovies=function(e){E.searchMovie({query:e}).then((function(e){n.setMovies(e.results)})).catch(console.error)},n.handleSearch=function(e){e&&n.searchMovies(e),n.setMovieName(e)},n.onSelect=function(e,t){var a=n.props.addMovie,i=n.state.movies,o=i.findIndex((function(e){return e.id==t.key}));a(i[o])},n.state={movies:[],selectedMovieName:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.selectedMovieName,a=e.movies;return i.a.createElement(p.a,{dropdownMatchSelectWidth:252,style:{width:300},onSelect:this.onSelect,onSearch:this.handleSearch,value:t,placeholder:"Search Movies..."},a.map((function(e){return i.a.createElement(g,{key:e.id,value:e.id},"".concat(e.title," (").concat(void 0===(t=e.release_date)?"":t.slice(0,4),")"));var t})))}}]),a}(i.a.Component),b=a(38),k=a(13),M=a(37),w=a(225),O=(a(188),a(189),a(227)),S=a(228);var C=function(e){var t=e.rating,a=e.onClick,n=e.movieId,o=t?"liked":"haven't liked",c=t?i.a.createElement(O.a,null):i.a.createElement(S.a,null);return i.a.createElement("div",{className:"custom-container"},i.a.createElement(h.a,{className:"btn btn-primary",type:"primary",shape:"circle",size:"small",onClick:function(){return a(n)}},c),i.a.createElement("p",null,"You ",o," this"))},_=w.a.Meta;var j=function(e){var t=e.title,a=e.vote_average,n=e.poster_path,o=e.rating,c=e.movieId,r=[];return e.showOpinion&&r.push(i.a.createElement(C,{onClick:e.onClick,rating:o,movieId:c})),i.a.createElement(w.a,{hoverable:!0,style:{width:240},cover:i.a.createElement("img",{alt:t,src:"https://image.tmdb.org/t/p/w200".concat(n)}),actions:r},i.a.createElement(_,{title:"".concat(t," (").concat(a,")")}))};a(206);var N=function(e){var t=e.movies,a=e.rating,n=e.onClick,o=e.showOpinion,c=e.emptyDescription;return i.a.createElement("div",{className:"movie-list"},t.length?i.a.createElement(b.a,null,t.map((function(e){return i.a.createElement(k.a,{span:6},i.a.createElement(j,Object.assign({key:e.id},e,{movieId:e.id,onClick:n,rating:a?a[e.id]:null,showOpinion:o})))}))):i.a.createElement(M.a,{description:c}))},I=a(222),x=I.a.SubMenu,K=I.a.ItemGroup;var D=function(){return i.a.createElement(I.a,{mode:"horizontal"},i.a.createElement(I.a.Item,{key:"mail"},"Home"),i.a.createElement(x,{title:i.a.createElement("span",null,"Blogs")},i.a.createElement(K,{title:"Item 1"},i.a.createElement(I.a.Item,{key:"setting:1"},"Option 1"),i.a.createElement(I.a.Item,{key:"setting:2"},"Option 2")),i.a.createElement(K,{title:"Item 2"},i.a.createElement(I.a.Item,{key:"setting:3"},"Option 3"),i.a.createElement(I.a.Item,{key:"setting:4"},"Option 4"))),i.a.createElement(I.a.Item,{key:"alipay"},"Contact Us"))},z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).showDrawer=function(){n.setState({visible:!0})},n.onClose=function(){n.setState({visible:!1})},n.state={current:"mail",visible:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement("nav",{className:"menuBar"},i.a.createElement("div",{className:"logo"}),i.a.createElement("div",{className:"menuCon"},i.a.createElement("div",{className:"leftMenu"},i.a.createElement(D,null))))}}]),a}(n.Component),B=a(55),W=a.n(B).a.create({baseURL:"https://api.themoviedb.org/3/"});var R=function(e,t,a,n,i,o,c,r,s){return W.get("/discover/movie",{params:{api_key:"0f8d529ca28503395a1f7dc2532ad517",sort_by:e,include_adult:t,include_video:a,page:n,"primary_release_date.gte":i,"vote_average.gte":o,with_genres:c,without_genres:r,with_original_language:s}})},Y=a(229),H=a(230),J=(a(209),d.a.TabPane),U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).addMovie=function(e){console.log(e),n.setState((function(t){return{movies:[].concat(Object(r.a)(t.movies),[e])}}),(function(){v.a.success("Your movie is added")}))},n.handleClick=function(e){var t=n.state.rating;t[e]=!t[e],n.setState({rating:t})},n.handleChange=function(e){n.setState({activeKey:e})},n.onSubmit=function(){var e=n.state,t=e.movies,a=e.rating,i=[],o=[],c=[],s=[],l=[],m=[];t.forEach((function(e){c=c.concat(e.release_date.slice(0).slice(0,4)),s=s.concat(e.original_language),l=l.concat(e.vote_average),m=m.concat(e.with_runtime),!1===a[e.id]||void 0===a[e.id]?o=o.concat(e.genre_ids):i=i.concat(e.genre_ids)}));var u=i.join("|"),d=o.join(","),h=s.join("|"),p=Math.min.apply(Math,Object(r.a)(l)),f=Math.min.apply(Math,Object(r.a)(c));f+="",console.log(a,t,u,d),R("popularity.desc",!1,!1,1,f+"-01-01",p,u,d,h).then((function(e){n.setState({recommendations:e.data.results}),v.a.success("Your recommendations are ready!"),n.setState({activeKey:"recommendations"})})).catch((function(e){console.log(e)})).finally((function(){console.log("Movies Fetched")}))},n.state={movies:[],rating:{},recommendations:[],activeKey:"watched"},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.movies,n=t.rating,o=t.recommendations;return i.a.createElement("div",{className:"app"},i.a.createElement(z,null),i.a.createElement("div",{className:"search-box"},i.a.createElement(y,{addMovie:this.addMovie})),i.a.createElement(d.a,{onChange:this.handleChange,activeKey:this.state.activeKey,className:"movie-tabs"},i.a.createElement(J,{tab:"Watched",key:"watched"},i.a.createElement(N,{movies:a,onClick:this.handleClick,rating:n,showOpinion:!0,emptyDescription:"No movies added!"}),i.a.createElement(h.a,{className:"recommend-button",style:{position:"fixed",bottom:50,right:40},type:"primary",shape:"round",icon:i.a.createElement(Y.a,null),size:"default",onClick:this.onSubmit},"Recommend Movies!")),i.a.createElement(J,{tab:"Recommendations",key:"recommendations"},i.a.createElement(N,{movies:o,onClick:function(){},showOpinion:!1,emptyDescription:"Submit your favorite movies to get recommendations!"}),i.a.createElement(h.a,{className:"recommend-button",style:{position:"fixed",bottom:50,right:40},type:"primary",shape:"round",icon:i.a.createElement(H.a,null),size:"default",onClick:function(){e.setState({activeKey:"watched"})}},"Add More Movies!"))))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(U,{text:"Hello world!"})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.d1963489.chunk.js.map